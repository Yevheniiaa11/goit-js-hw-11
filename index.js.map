{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nconst BASE = \"https://pixabay.com/api/\";\nconst API_KEY = \"49565039-11a2922cd8e7ceae59523da99\";\n\n\nexport function searchImage(name) {\n    console.log(\"Searching for:\", name);\n    return axios.get(BASE, {\n        params: {\n            key: API_KEY,\n            q: name,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        },\n    })\n\n    .then(response => {\n        console.log(\"Response received:\", response.data);\n        const hits = response.data.hits;\n\n        if (hits.length === 0) {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n            return [];\n\n        }\n\n        return hits;\n    })\n    .catch(error => {\n        console.error(\"Axios error:\", error);\n        iziToast.error({\n            title: \"Error\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n        return [];\n    });\n}\n\n","export function createGallery(images){\n\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = \"\";\n\n    const markup = images\n       .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n    `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n        <div class=\"description\">\n            <p><b>Likes:</b> ${likes}</p>\n            <p><b>Views:</b> ${views}</p>\n            <p><b>Comments:</b> ${comments}</p>\n            <p><b>Downloads:</b> ${downloads}</p>\n        </div>\n    </li>\n    `).join(\"\");\n\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n\n}","import { searchImage } from \"./js/pixabay-api.js\";\nimport { createGallery } from \"./js/render-functions.js\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector('input[name=\"search-text\"]');\nconst loader = document.querySelector(\".loader\");\nconst gallery = document.querySelector(\".gallery\");\n\n// loader.style.display = \"none\";\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captionsData: 'alt',\n    captionsDelay: 250,\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const searchInput = input.value.trim();\n\n    if(searchInput) {\n\n        loader.style.display = \"block\";\n        gallery.innerHTML = \"\";\n\n        searchImage(searchInput)\n        .then(images => {\n\n            createGallery(images);\n            lightbox.refresh();\n\n        })\n\n        .catch(error => {\n            console.error(\"Downloadd error:\", error);\n        })\n\n        .finally(() => {\n            loader.style.display = \"none\";\n        });\n    }\n});\n\n\n"],"names":["BASE","API_KEY","searchImage","name","axios","response","hits","iziToast","error","createGallery","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","input","loader","lightbox","SimpleLightbox","event","searchInput"],"mappings":"+vBASA,MAAMA,EAAO,2BACPC,EAAU,qCAGT,SAASC,EAAYC,EAAM,CAC9B,eAAQ,IAAI,iBAAkBA,CAAI,EAC3BC,EAAM,IAAIJ,EAAM,CACnB,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EAEA,KAAKE,GAAY,CACd,QAAQ,IAAI,qBAAsBA,EAAS,IAAI,EAC/C,MAAMC,EAAOD,EAAS,KAAK,KAE3B,OAAIC,EAAK,SAAW,GAChBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EACM,IAIJD,CACf,CAAK,EACA,MAAME,IACH,QAAQ,MAAM,eAAgBA,CAAK,EACnCD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACrB,CAAS,EACM,GACV,CACL,CChDO,SAASE,EAAcC,EAAO,CAEjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAASF,EACX,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACjF;AAAA,mBACeL,CAAa;AAAA,wBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,+BAGnBC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA;AAAA,KAGvC,EAAE,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaC,CAAM,CAElD,CCfA,MAAMQ,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,2BAA2B,EAC1DC,EAAS,SAAS,cAAc,SAAS,EACzCX,EAAU,SAAS,cAAc,UAAU,EAI3CY,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,cAAe,GACnB,CAAC,EAEDJ,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAcL,EAAM,MAAM,KAAI,EAEjCK,IAECJ,EAAO,MAAM,QAAU,QACvBX,EAAQ,UAAY,GAEpBT,EAAYwB,CAAW,EACtB,KAAKhB,GAAU,CAEZD,EAAcC,CAAM,EACpBa,EAAS,QAAO,CAE5B,CAAS,EAEA,MAAMf,GAAS,CACZ,QAAQ,MAAM,mBAAoBA,CAAK,CACnD,CAAS,EAEA,QAAQ,IAAM,CACXc,EAAO,MAAM,QAAU,MACnC,CAAS,EAET,CAAC"}